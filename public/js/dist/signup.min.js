const signupForm=document.querySelector("#signup"),passwordField=document.querySelector("#signupPassword"),verifyField=document.querySelector("#verifyPassword"),submitButton=document.querySelector("#submitButton"),registerUser=async a=>{a.preventDefault();const b=document.querySelector("#signupUsername").value.trim(),c=document.querySelector("#signupEmail").value.trim(),d=passwordField.value.trim();if(validate()){const a=await fetch("/api/users/signup-username",{method:"POST",body:JSON.stringify({name:b}),headers:{"Content-Type":"application/json"}});if(a.ok){const a=await fetch("/api/users/signup-email",{method:"POST",body:JSON.stringify({email:c}),headers:{"Content-Type":"application/json"}});if(a.ok){const a=await fetch("/api/users/signup-create",{method:"POST",body:JSON.stringify({name:b,email:c,password:d}),headers:{"Content-Type":"application/json"}});a.ok?setTimeout(()=>{document.location.replace("/dashboard")},500):alert("Server error: Please try again")}else alert("Email already exists")}else alert("Username already exists")}else alert("Missing field(s)")},checkLength=()=>{const a=passwordField.value.trim(),b=document.querySelector("#checkbox1");return 8<=a.length?(b.classList.remove("hide"),!0):(b.classList.add("hide"),!1)},verifyPassword=()=>{const a=passwordField.value.trim(),b=verifyField.value.trim(),c=document.querySelector("#checkbox2");return a===b?(c.classList.remove("hide"),!0):(c.classList.add("hide"),!1)},validate=()=>{const a=document.querySelector("#signupUsername").value.trim(),b=document.querySelector("#signupEmail").value.trim();return 0<a.length&&0<b.length&&checkLength()&&verifyPassword()?(submitButton.removeAttribute("disabled"),!0):(submitButton.setAttribute("disabled",""),!1)};signupForm.addEventListener("input",validate),signupForm.addEventListener("submit",registerUser),validate();